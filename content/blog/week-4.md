---
title: "ç¬¬ 4 æœŸ: ä½¿ç”¨ React ç¼–å†™å‘½ä»¤è¡Œå·¥å…·"
date: 2021-03-22T00:00:00.000Z
---

å‰ç«¯çˆ±å¥½è€…å‘¨åˆŠ (Github: shfshanyue/weekly)ï¼Œæ¯å‘¨è®°å½•å…³äºå‰ç«¯çš„å¼€æºå·¥å…·ã€ä¼˜ç§€æ–‡ç« ã€é‡å¤§åº“ç‰ˆæœ¬å‘å¸ƒè®°å½•ç­‰ç­‰ï¼Œå‘¨åˆŠä¸­ä¼˜ç§€æ–‡ç« ä¼šåœ¨å…¬ä¼—å·**å…¨æ ˆæˆé•¿ä¹‹è·¯**é€ä¸€æ¨é€ã€‚æ¯å‘¨ä¸€å‘å¸ƒï¼Œè®¢é˜…å¹³å°å¦‚ä¸‹ï¼Œæ¬¢è¿è®¢é˜…ã€‚

+ è®¢é˜…ç½‘ç«™: <https://weekly.shanyue.tech>
+ è®¢é˜…Github: [shfshanyue/weekly](https://github.com/shfshanyue/weekly)


## å°é¢

![ä¸‰æ˜Ÿå †é—å€æ–°å‡ºåœŸé»„é‡‘é¢å…·](./assets/mianju.png)

è€ƒå¤å·¥ä½œè€…åœ¨ä¸‰æ˜Ÿå †é—å€æ–°å‘ç°6åº§ä¸‰æ˜Ÿå †æ–‡åŒ–ç¥­ç¥€å‘ï¼Œç›®å‰å·²å‡ºåœŸé‡‘é¢å…·æ®‹ç‰‡ã€å·¨é’é“œé¢å…·ã€é’é“œç¥æ ‘ã€è±¡ç‰™ç­‰é‡è¦æ–‡ç‰©500ä½™ä»¶ï¼Œå›¾ç¤ºä¸ºå‡ºåœŸåŠè¾¹é»„é‡‘é¢å…·ã€‚



## ä¸€å¥è¯

+ `copy($var)` åœ¨æµè§ˆå™¨æ§åˆ¶å°å¯ä»¥ç›´æ¥å¤åˆ¶å˜é‡æ•°æ®
+ chrome ä»¥å‰æ¯éš”å…­å‘¨ä¸€ä¸ªç‰ˆæœ¬è¿­ä»£ï¼Œä»Šåå°†ä¼šåŠ å¿«è¿­ä»£èŠ‚å¥ï¼Œæ¯éš”å››å‘¨å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬
+ `npm audit fix` ä¼šè‡ªåŠ¨ä¿®å¤æœ‰é£é™©çš„ package
+ æˆ‘å›½ç§‘å­¦å®¶åœ¨ä¸€å—å½¢æˆäºå¤§çº¦9900ä¸‡å¹´å‰çš„ç¥ç€ä¸­å‘ç°æ˜†è™«æ–°ç‰©ç§ï¼Œç§‘å­¦å®¶ä»¬ç§°ä¹‹ä¸ºå¤§è§’è½
+ 2021å¹´å…¨å›½ç«èµ°é”¦æ ‡èµ›æš¨ä¸œäº¬å¥¥è¿ä¼šé€‰æ‹”èµ›å¥³å­20å…¬é‡Œç«èµ°æ¯”èµ›ä¸­ï¼Œå†…è’™å¤é˜Ÿé€‰æ‰‹æ¨å®¶ç‰ä»¥1å°æ—¶23åˆ†49ç§’çš„æˆç»©è·å¾—å† å†›å¹¶æ‰“ç ´ä¸–ç•Œçºªå½•

## å¼€å‘åˆ©å™¨


### **ä¸€ã€ [Explain Shell: å›¾ç¤ºä»»ä¸€å‘½ä»¤è¡Œæ¯ä¸ªå‚æ•°çš„é‡Šä¹‰](https://explainshell.com/)**

![explainshell](./assets/explainshell.png)

å¯ç§°ä¹‹ä¸ºå­¦ä¹ åŠä¹¦å†™ shell çš„æœ€ä½³è¾…åŠ©ç¥å™¨ï¼Œè¾“å…¥ä»»ä¸€ linux å‘½ä»¤ï¼Œéƒ½ä¼šä¸€ä¸€æŒ‡å‡ºæ¯ä¸ªå‚æ•°çš„é‡Šä¹‰ï¼ŒPIPE åµŒå¥—ä¸”å¤æ‚çš„å‘½ä»¤ä¹Ÿå¯è§£æã€‚





    

### **äºŒã€ [SVG Wave Generator](https://www.softr.io/tools/svg-wave-generator)**

![SVG æ³¢æµªå½¢éšæœºç”Ÿæˆå™¨](./assets/svg-creator.png)

éšæœºç”Ÿæˆä¸€ä¸ªæ³¢æµªSVGï¼Œå¯è°ƒæ•´é”¯é½¿ã€æ³¢æŠ˜ç¨‹åº¦ç­‰ï¼Œå¹¶å¯ä¿å­˜ä¸º SVG/PNG/JPG





    

### **ä¸‰ã€ [cssffects: å¤šç§è¶…å®ç”¨ CSS åŠ¨ç”»](https://emilkowalski.github.io/css-effects-snippets/)**

![](./assets/csseffects.png)

æ”¶é›†å¤šç§ CSS åŠ¨ç”»ï¼Œå¤§éƒ¨åˆ†æ˜¯å„ç§ hover æ•ˆæœã€loading åŠ¨ç”»ç­‰ï¼Œçº¯ CSS å®ç°ã€‚æ”¶è—ä»¥å¤‡ç‹¬ç«‹è®¾è®¡ç½‘ç«™æ—¶çš„ä¸æ—¶ä¹‹éœ€ã€‚


+ [repo: emilkowalski/css-effects-snippets](https://github.com/emilkowalski/css-effects-snippets)


    

### **å››ã€ [Chrome Platform Status: Chrome å‘å¸ƒç‰ˆæœ¬æ–°ç‰¹æ€§å¤§è§ˆ](https://www.chromestatus.com/features/schedule)**

![](./assets/chromestatus.png)

åˆ—ä¸¾æ¯ä¸€ä¸ª Chrome çš„æ–°ç‰¹æ€§å¤§å…¨ï¼Œç›®å‰çš„ç¨³å®šç‰ˆæœ¬åŠä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„å‘å¸ƒæ—¥æœŸç­‰ã€‚





    

## æ–‡ç« æ¨è


### **ä¸€ã€ [ä¸ºä»€ä¹ˆä½ åº”è¯¥ä½¿ç”¨ Picture æ¥ä»£æ›¿ Img æ ‡ç­¾](https://blog.bitsrc.io/why-you-should-use-picture-tag-instead-of-img-tag-b9841e86bf8b)**

![](./assets/picture.jpg)

picture æ ‡ç­¾æ‹¥æœ‰æ›´å¥½çš„åˆ†è¾¨ç‡åˆ‡æ¢ä¸åª’ä½“æŸ¥è¯¢ï¼Œå½“å°å±å¹•ä½¿ç”¨æ›´å°çš„å›¾ç‰‡ç›Šäºæ€§èƒ½ä¼˜åŒ–ï¼Œé«˜åˆ†å±ä½¿ç”¨ 2x å›¾ç‰‡ç›Šäºç¾æœ¯è®¾è®¡ã€‚

å¹¶ä¸”å¯æ”¯æŒä¹¦å†™å¤šç§å›¾ç‰‡æ ¼å¼ï¼Œå¯¹æœ€æ–°çš„å›¾ç‰‡æ ¼å¼ avif/webp æä¾›å›é€€æ–¹æ¡ˆï¼Œå› æ­¤å¯é‡‡ç”¨æœ€ä½³å›¾ç‰‡æ ¼å¼ã€‚æ­¤å¤„ä¸æ„å»ºå·¥å…·ä¸€åŒä½¿ç”¨ä¸ºæœ€ä½³å®è·µã€‚

``` html
<picture>
  <source srcset="test.avif" type="image/avif">
  <source srcset="test.webp" type="image/webp">
  <img src="test.png" alt="test image">
</picture>
```




+ [è·³è½¬è¯‘æ–‡](https://juejin.cn/post/6923840549170446343)
    

### **äºŒã€ [webpackæ ¸å¿ƒæ¨¡å—tapableç”¨æ³•è§£æ](https://segmentfault.com/a/1190000039418800)**

Plugin æ˜¯ webpack çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œè€Œå®ƒä¾èµ–äº tabpable è¿™ä¸ªåº“ï¼Œå®ƒä¸º Plugin çš„å®ç°æä¾›äº†äº‹ä»¶å¤„ç†å’Œæµç¨‹æ§åˆ¶å¤šç§å¤šæ ·çš„é’©å­ã€‚

å®ƒçš„æ ¸å¿ƒåŸç†æ˜¯é«˜çº§ç‰ˆçš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä½¿ç”¨ `tap` æ³¨å†Œäº‹ä»¶ï¼Œä½¿ç”¨ `call` è§¦å‘äº‹ä»¶ã€‚

``` js
const {
  SyncHook,
  SyncBailHook,
  SyncWaterfallHook,
  SyncLoopHook,
  AsyncParallelHook,
  AsyncParallelBailHook,
  AsyncSeriesHook,
  AsyncSeriesBailHook,
  AsyncSeriesWaterfallHook
} = require("tapable");
```





    

### **ä¸‰ã€ [Flutter Webåœ¨ç¾å›¢å¤–å–çš„å®è·µ](https://tech.meituan.com/2021/03/18/flutterweb-in-meituanwaimai.html)**

![](./assets/meituan-flutter.png)

Flutter å¯¹ Web çš„æ”¯æŒå·²ç»è¿›å…¥äº† Stable é˜¶æ®µï¼Œç¾å›¢è½åœ°äº† Flutter Web å¹¶æ€»ç»“äº†ç›¸å…³ç»éªŒã€‚ä½†æ˜¯åœ¨ Web ç«¯ä½¿ç”¨ Flutter ç°é˜¶æ®µä»æœ‰è®¸å¤šä¸è¶³ï¼Œæ¯”å¦‚è„†å¼±çš„ Web ç”Ÿæ€åŠæ„å»º

+ Flutter æ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œ Hash åŒ–ï¼Œå› æ­¤å¾ˆéš¾åˆ©ç”¨ Long Term Cache
+ Flutter å¯¹æ‰“åŒ…æ–‡ä»¶å¾ˆéš¾è¿›è¡Œæ‹†åŒ…
+ Flutter å¯¹èµ„æºä¸Šä¼  CDN æ¯”è¾ƒå›°éš¾
+ Flutter Web è‡ªèº«å®ç°äº†ä¸€å¥—é¡µé¢æ»šåŠ¨æœºåˆ¶ï¼Œé¡µé¢æ»šåŠ¨æ€§èƒ½è¾ƒå·®ã€‚

æ¥è¿™ç¯‡æ–‡ç« çœ‹çœ‹ç¾å›¢æ˜¯æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜çš„å§ï¼Œä¸‹å›¾æ˜¯ç¾å›¢çš„æŠ€æœ¯æ¶æ„

![](./assets/meituan-flutter-arch.png)





    

### **å››ã€ [v8 Heapsnapshot æ–‡ä»¶è§£æ](https://segmentfault.com/a/1190000039650874)**

![](./assets/heapdump.png)

ç»“åˆ v8 æºç çœ‹ heapsnashot æ–‡ä»¶çš„æ•°æ®ç»“æ„ï¼Œäº†è§£å®ƒéå¸¸æœ‰åˆ©äºæˆ‘ä»¬è°ƒè¯• Node ä¸­çš„å†…å­˜é—®é¢˜





    

## ä»£ç ç‰‡æ®µ


### **ä¸€ã€ å¦‚ä½•ç»™æ•°ç»„å»é‡ï¼Ÿ**

`array-union` è™½æ˜¯ä¸€ä¸ªåªæœ‰ä¸€è¡Œä»£ç çš„åº“ï¼Œä½†æ¯ä¸ªæœˆæœ‰ä¸€äº¿æ¬¡ä¸‹è½½é‡ï¼Œä»£ç å¦‚ä¸‹

``` js
const arrayUnion = (...arguments_) => [...new Set(arguments_.flat())];

arrayUnion(['ğŸ±', 'ğŸ¦„'], ['ğŸ»', 'ğŸ¦„'], ['ğŸ¶', 'ğŸŒˆ', 'ğŸŒˆ']);
//=> ['ğŸ±', 'ğŸ¦„', 'ğŸ»', 'ğŸ¶', 'ğŸŒˆ']
```





    

### **äºŒã€ Array.prototype.flat: æ•°ç»„æ‰å¹³åŒ–**

``` js
const l = [1, 2, [3, 4]]

l.flat()
//=> [1, 2, 3, 4]
```





    

## å¼€æºä¸åº“


### **ä¸€ã€ [tsdx: é›¶é…ç½®å¯å¿«é€Ÿå¼€å‘ npm package æ”¯æŒ typescript çš„å‘½ä»¤è¡Œå·¥å…·](https://github.com/formium/tsdx)**

![](./assets/tsdx.gif)

é›¶é…ç½®çš„å¯å¿«é€Ÿå¼€å‘ Package çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¼€ç®±å³ç”¨ Prettierã€ESLintã€Jestã€Rollupã€Publish ç­‰ç¹çé…ç½®åŒ–æ•´ä¸ºé›¶ï¼Œå¹¶å¯è‡ªåŠ¨æ‰“åŒ…ä¸º CJSã€ESMã€UMD ç­‰å¤šä¸ªæ ¼å¼è€Œæ— éœ€å¤šä½™é…ç½®ã€‚

å¦‚æœä½ å¼€å‘ React ç»„ä»¶ï¼Œè¿˜å¯é€‰å†…ç½® Storybook ç­‰ï¼Œä¸ºå¼€å‘æ–°çš„ Package é€ æˆäº†æå¤§çš„ä¾¿åˆ©ã€‚


+ [repo: https://tsdx.io/](https://tsdx.io/)
+ [npm: tsdx](https://npmjs.com/package/tsdx)

    

### **äºŒã€ [anime: è½»é‡é«˜æ€§èƒ½ javascript åŠ¨ç”»å¼•æ“](https://animejs.com/)**

![](./assets/anime.png)

å¯å¿«é€Ÿåœ°é€šè¿‡ç¼–ç¨‹åˆ¶ä½œåŠ¨ç”»ï¼ŒåŒ…æ‹¬è€Œä¸é™äº SVGã€CSSã€Keyframes ç­‰ã€‚åœ¨å‰å‡ æœŸå‰ç«¯å¼€å‘è€…å‘¨åˆŠä¸­ï¼Œä¹Ÿæ›¾ä»‹ç»è¿‡å¦å¤–ä¸€ä¸ªåŠ¨ç”»å¼•æ“: `GSAP`ã€‚


+ [repo: juliangarnier/anime](https://github.com/juliangarnier/anime)
+ [npm: animejs](https://npmjs.com/package/animejs)

    

### **ä¸‰ã€ [ink: ä½¿ç”¨ React ç¼–å†™å‘½ä»¤è¡Œå·¥å…·](https://github.com/vadimdemedes/ink)**

![](./assets/ink.svg)

``` jsx
import React, { useState, useEffect } from "react"
import { render, Text } from "ink"

const Counter = () => {
  const [counter, setCounter] = useState(0)

  useEffect(() => {
    const timer = setInterval(() => {
      setCounter((previousCounter) => previousCounter + 1)
    }, 100)

    return () => {
      clearInterval(timer)
    }
  }, [])

  return <Text color="green">{counter} tests passed</Text>
}

render(<Counter />)
```


+ [repo: vadimdemedes/ink](https://github.com/vadimdemedes/ink)
+ [npm: ink](https://npmjs.com/package/ink)

    

### **å››ã€ [jsonld: JS å®ç°çš„ JSON-LD å¤„ç†å™¨](https://json-ld.org/)**

JSON-LD æ˜¯å¸¦æœ‰ Link Data çš„ JSON æ•°æ®æ ¼å¼ï¼Œå¸¸è§çš„ mongo å°±æ˜¯ä»¥ jsonld ç»„ç»‡æ•°æ®ã€‚

``` js
{
  "@context": "https://json-ld.org/contexts/person.jsonld",
  "@id": "http://dbpedia.org/resource/John_Lennon",
  "name": "John Lennon",
  "born": "1940-10-09",
  "spouse": "http://dbpedia.org/resource/Cynthia_Lennon"
}
```





    

## ç‰ˆæœ¬å‘å¸ƒ


### **ä¸€ã€ [v8 9.0 Release](https://v8.dev/blog/v8-release-90)**

v8 9.0 åœ¨ä¸‰æœˆåä¸ƒå·å‘å¸ƒ





    
